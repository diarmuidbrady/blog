<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Diarmuid Brady">
<meta name="dcterms.date" content="2025-09-10">

<title>Blog - The Road To Porto: Turning Point</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../logo.png" rel="icon" type="image/png">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-Y9K5WWKHZ3"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-Y9K5WWKHZ3', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/diarmuidbrady/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://instagram.com/thetenaciouslife_" rel="" target=""><i class="bi bi-instagram" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">The Road To Porto: Turning Point</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">The Road To Porto</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Diarmuid Brady </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">September 10, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>On Monday at 11am, I found out I was fighting Tuesday evening. The news hit with a mix of nerves and eagerness. The bouts were scheduled to begin at 8pm, and I expected to fight around 9 or 9:30. That gave me just over 30 hours to switch from normal routine into fight mode.</p>
<p>I already knew my opponent. I’d watched him in the Intervarsity Finals at 67kg. A Southpaw. The video I’d taken was now coming in handy. He was fast, aggressive, and confident, maybe even a little cocky. I believed I had more power than him and I planned to break him down under pressure.</p>
<p>At lunch, I performed a mental visualisation. I focused on what I wanted to do in the ring — move my head, cut off the ring, and close the distance. I pictured entering the venue, walking out to the blue corner, climbing the steps to the ring (left, right, left, right, left) during my walkout, and performing the ritual I had rehearsed over and over.</p>
<p>By 5pm, I felt well-fuelled and energised. I had been loading carbohydrates since my weigh-in and using dioralyte to replenish hydration. I trained that evening, focusing entirely on Southpaw-specific drills distance, lead hand battle, and specific combinations and counters. Having the experience of sparring a southpaw externally, earlier in camp had now paid dividends, and I felt familiar with the dynamic.</p>
<p>That night at home, I ate a large high-carb meal to top up my energy stores. Before bed, I ran through a negative visualisation. I pictured myself making mistakes — standing still, not moving my head — and I rehearsed how I’d bounce back. I visualised adapting in the middle of the fight, learning in real time, and staying composed under pressure.</p>
<p>I woke up Tuesday morning feeling a bit underslept, since I only got to bed around midnight. My body felt achy and sore. I’d had a good session the day before, but I noticed a little mental tiredness lingering in the background. I ate a large bowl of porridge with yogurt, banana, and berries to keep fuelling carbs.</p>
<p>During work, I felt unusually cold in myself despite everyone being in t-shirts. But I put on a jacket and thought no more of it. At lunch, I ate a large bowl of pasta with chicken and tomato sauce. I took a half day again to rest before the fight and walked home in the beautiful sunshine listening to chill, feel-good music: Roy Ayers Ubiquity, Frank Ocean, and Jungle. It brought a relaxed, pleasant mood. I also called my mam and dad for a chat. I like to call someone close on fight day.</p>
<p>When I got home, I performed a full mental visualisation: arriving at the venue, settling in, warming up, walking out, and going through my ring ritual. I recalled a clip I’d watched of Ethan Hawke giving advice to a young actor: “Preparation, preparation, preparation, preparation” and with the gestured waving of his hand “… let go.” As I finished my visualisation, I let go too, my preparation was complete. I’d done all the work. Now it was time to relax, enjoy the moment, and let the evening unfold. I felt the weight drop from my shoulders.</p>
<p>I took a 20-minute nap to relax, then showered to freshen up, listening to happy, summer music like Empire of the Sun, Macklemore, and Mac Miller as I packed my bag. I ate my last bit of food: rice pudding and a banana, around 5pm as I watched Mad Men.</p>
<p>At 7, I met up with my clubmates and we made our way to the venue. The fights had already started. I watched one or two before sitting down and performing my last visualisation — rehearsing the entire fight from start to finish, seeing myself in rhythm, flowing through combinations, and having success. This was my transition into the zone.</p>
<p>With my headphones on, I was in my own bubble. The outside world didn’t exist. I was completely focused on my inner game, protected from whatever was going on around me. I listened to Irish rock classics: Thin Lizzy, <em>The Boys Are Back in Town</em>; U2, <em>Sunday Bloody Sunday</em>; The Cranberries, <em>Zombie</em>.</p>
<p>The dressing room was packed. I changed and warmed up in a small 1x2 metre space in the corner, facing a mirror. After about 30 minutes, with two fights to go, my coach brought me out for pads. I felt fully immersed in the zone. Nothing existed except the task in front of me: get in the ring, fight, win. I had a sharp, narrow focus. I felt ready and confident.</p>
<p>Soon after, it was time. I walked out to the ring, and it all felt familiar — the crowd, the noise, and the nerves. I approached the blue corner, put on my gloves and gumshield, stepped up into the ring — left, right, left, right, left — and moved through the ropes, gliding across the ring springing off the ropes, and back to my corner.</p>
<p>The referee checked my gloves, gumshield, head guard, and groin guard. We approached the centre. I looked my opponent in the eye. He looked confident, but I was unfazed. I was ready. The referee explained the rules. We walked back to our corners.</p>
<p>Moments before the bell, I tapped the corner three times.</p>
<p><strong>Playful. Snappy. Relentless.</strong></p>
<p><strong>Round one</strong> started off a bit static, tense, and reserved. I was measuring my opponent, figuring him out. He was catching me with straight jabs and managing the distance that way.</p>
<p>Ninety seconds in, my nose began bleeding. The fight was paused, and I went to the doctor. He checked it, wiped the blood, and I reminded myself — it’s only the first round. I just needed to move my head and loosen up.</p>
<p>I returned for the last 30 seconds. In the first exchange, he threw a one-two. I slipped right, landed a lead hook to the body, followed by a straight cross. I remembered that cross — it pushed him back. I thought to myself, you felt it.</p>
<p>In the corner, my coach reminded me to move my head and work specific combinations.</p>
<p>In <strong>round two</strong>, I continued applying pressure, but I was still getting caught despite trying to move my head. Midway through the round, he began showing signs of weakness. I pressed him back into a corner, landing the same combination — slip right, lead hook to the body, straight cross down the middle — followed by a second cross that threw his head back.</p>
<p>The ref stepped in and called for a 10 count. My opponent leaned across the ropes, clearly tired. The bell rang soon after.</p>
<p>Back in the corner, I felt in more control, but the fight was still up for grabs. I knew I had to push it home in the third.</p>
<p><strong>Final round</strong>, we both came out firing. After I landed a few hard shots, the ref paused the fight — my opponent had to go to the doctor because his nose was now bleeding.</p>
<p>Throughout the round, we exchanged repeatedly, but I landed the cleaner, more visible shots.</p>
<p>At the final bell, I returned to my corner confident. I shook my opponent’s hand, his coach’s hand, and stood beside the referee. My arm was raised. I’d won by unanimous decision.</p>
<p>I felt confident in myself after the fight. My brothers were there, and it felt good to have the support of both them and my clubmates.</p>
<p>I watched one or two more fights to see the other opponent in my weight class, then went home. It was around half ten or eleven, but I didn’t get to sleep until 2am.</p>
<p>The feeling after a fight is like no other. The adrenaline, especially from such a late fight, was like taking five cups of coffee. My mind and body were buzzing.</p>
<p>It felt like fireworks inside. I had to take a walk outside to try and cool off, but I was overstimulated.</p>
<p>Eventually, I got to sleep around 2am, which I wasn’t pleased about. I was concerned each poor night of sleep was accumulating.</p>
<p>I woke up the next morning and felt confident in myself. After work, I did a visualisation and focused on head movement. That evening, I went back to training and practised school sparring combinations. But my concentration was lower. I felt tired. During school sparring and pad work with my coach, I practiced working on the inside, throwing body and head shots. But, I was messing up the combinations and I got frustrated. My coach encouraged me to keep at it, and eventually I relaxed, got into a groove, and ended the pad session strongly. It felt great to have the anchor of my coach to ground me and keep me focused.</p>
<p>After training, I was tired, but still needed to plan out my meals for the next day for carb loading. The exhaustion made it difficult to organise my thoughts and get everything away. There was a lot on my mind, not just simple tasks like cooking, preparing meals, and cleaning up, but also concerns about weight management. In particular, how to balance fuelling for fights versus managing weight. After going back up to 71, I was concerned that my weight had spiked too high. But I reassured myself this was natural and I decided the focus was on winning my fights. Weight management would come after that.</p>
<p>It took a long time to pack my things and wind down, so I didn’t get to sleep until around midnight.</p>
<p>On Thursday, I began reflecting on Tuesday’s fight. The feeling I had stepping into the ring was seamless. I felt like I was already there before it began. From the moment I performed my mental visualisation, I entered the zone. Visualising my arrival at the venue helped set the tone, and the music in my headphones deepened that state as I warmed up. In the dressing room, I felt undeterrable. As I moved, I dropped deeper into a flow. I felt fluid and focused, and in the tunnel before the fight, I was completely present. The crowd noise faded—not because I blocked it, but because focus quieted everything. I was calm and alert. When I reached the ring, there was no jolt of realisation or shock like in previous fights. I was already there.</p>
<p>I also thought about my fight on Friday. I’d gotten a lot of praise from Tuesday’s win, but I didn’t want to feel like I’d accomplished anything yet. This was just experience leading into Porto. My first task was to win the Dublin Novices, but my main goal was to win the Porto Box Cup. I wanted to re-centre my focus on that.</p>
<p>I knew I needed to improve a few things: allow more time for warm-up and visualisation, get past that first wave of tiredness, and start sharp. My coach said it was possible I’d fight Friday and again on Saturday, so I needed food ready right after the fight to refuel for the next day.</p>
<p>That day, I planned another carb load. I aimed for over 3,000 calories and around 500 grams of carbohydrates, split across breakfast, lunch, an afternoon snack, and dinner.</p>
<p>That evening, I performed another mental visualisation—a negative one. I rehearsed getting hit, reminding myself to move my head and actually doing it. I also focused on my feet. I sometimes lunged in without bringing my back foot. I rehearsed staying balanced and keeping my stance compact under pressure.</p>
<p>On Friday morning, I felt tired, nervous, and drained. My energy was low. But as lunchtime came around, I settled into the same routine as Tuesday. I ate breakfast and lunch, went home to rest listening to chill, feel-good music, and performed my mental visualisation of entering the venue and walking to the ring. I took a 20-minute nap, showered, listened to happy summer music, watched some television, called my parents, and ate my last snack of rice pudding and a banana. I chilled out watching some TV.</p>
<p>Making my way down to the venue, I was by myself, and I felt nervous. I didn’t know who my opponent was, unlike last time, and I could feel the butterflies flutter inside. I walked in, sat down, and performed my last visualisation. With my headphones on, I went inside to warm up, listening to Irish rock classics. I was in the blue corner again. I took up the same 1x2 metre space—it was familiar now. I’d given myself more time for a warm-up, and by the end of it, I felt better than I had the previous fight.</p>
<p>As my bout got closer—two fights to go—my coach brought me out for pad work and I fell into a trance. I felt like I was standing in a quiet room with just myself, my coach, and the ring waiting outside with my opponent in it. My eyes were locked in tunnel vision, and as I moved, I was free of tension. I was ready for war.</p>
<p>I walked out to the ring just like before. On the way out, I noticed my dad facing the ring and as I walked by from behind, I gave him a sneaky tap on the back. I got into the ring, moved to the ropes and back. The ref went through the rules as I looked my opponent in the eye. He was looked more experienced but I felt sharp. As I returned to my corner, I tapped it three times.</p>
<p><strong>Playful. Snappy. Relentless.</strong></p>
<p>In the <strong>first round,</strong> both of us came out light on our feet, showing our jabs. We were boxing toe-to-toe. He had sharper, more fluid movements, and his shots were snappier, but in the opening exchanges I landed some strong shots and had success pushing him back and off balance. I had more strength and used that to disrupt his movement. Since he was more skilled at being evasive, he moved well around me. We were both catching each other with shots, and overall it was a balanced round. But his control in exchanges and his ability to get in, land, and move out put him ahead.</p>
<p>With 30 seconds left, he threw a shot I blocked. I retaliated with a rear hook to the body, which caught him clean and pushed him back to the corner. A shot like that takes time to show its effect. Later in the round, I was a little off balance while he stayed composed. He moved in, got his shots off, and slipped out of range. By the end of the round, I began slowing down. There were moments where I cornered him, but as I threw, he countered and moved around me easily. It was clear his boxing skill was higher than mine.</p>
<p>At the end of the round, my coach said, “Dermot, you’re trying to out-box this fella. If you try and out-box this fella, you’re going to lose. You need to push him back, keep the intensity high, bully him, and break him down.”</p>
<p><strong>Round two</strong> started with the same cat and mouse: me trying to corner him, him trying to move out and around. But this time I was more measured and didn’t jump in too soon. In our first proper exchange, we went toe to toe, and I caught him a few times before he moved off. Then, in another exchange, I landed backhands and had success on the inside.</p>
<p>Halfway through the round, I had him in a corner. I landed enough shots to keep him there, and he was struggling to get out. Eventually, he escaped, but as he moved to the other side of the ring, I chased him with jabs and didn’t let him out of my sight. As I pushed him against the ropes, I threw one-twos, followed by a hook-cross that raised his guard, exposing his body. I capitalised with a powerful lead hook downstairs.</p>
<p>The ref stepped in and called a 10-count. What happened next surprised me. He went back to his corner, dropped to his hunkers, and shook his head. He was struggling. The ref counted, but he wasn’t getting up. Eventually, the ref waved the fight off. I’d won.</p>
<p>It was my first ever stoppage. I was shocked and proud. I’d outworked him. In the words of David Goggins, I’d taken his soul. I’d pushed him, and he just couldn’t go on. Back in my corner, I high-fived my coach. He looked at me and said, “Do I tell lies, do I?” I laughed. He told me to bully him, push him back, and disrupt his rhythm—and it worked.</p>
<p>Afterwards, my clubmates and my dad were there to congratulate me. The feeling was euphoric. We stayed to watch my teammate David fight next. He lost against an opponent supposedly well above the novice category—someone who claimed to be Conor McGregor’s sparring partner.</p>
<p>Later that evening, I found out that the final wouldn’t be the next day—it was pushed out to Monday, the 7th of April, four days before my quarter-final fight in Porto. It wasn’t ideal, but I had to get on with it.</p>
<p>When I went to lie down, rest was the last thing on my mind. My brain started planning—scheming—trying to figure out how to handle the next week and a half. Managing my weight, refueling, training—my thoughts were jumping around. After my quarter-final win, I’d felt like I’d had five coffees. Now it felt like fifty.</p>
<p>I used every technique I could: meditation, a walk, a cold shower, splashing water on my face, light exercise—but my mind wouldn’t settle. I eventually got to bed at 3 a.m., ending a week full of energy output and poor recovery.</p>
<p>I had one week to go until my final. One more after that until Porto was over. I’d already asked a lot of my body. Now I just needed it to give me a little bit more.</p>
<p>Next week, we’ll see how my body responded to the break before the final and how the Dublin Novices turned out in the end.</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>